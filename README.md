# Sublime Text Rails snippets

The repo aims to replace the default Rails snippets from Sublime Text and make it useful for the latest Ruby and Rails versions. All the snippets can be found in [this cheatsheet](http://tadast.github.com/sublime-rails-snippets) generated by [Snipcheat](https://github.com/tadast/snipcheat).

![class](http://cl.ly/image/023Y2X0P1R2X/class.gif)

![ActiveRecord](http://cl.ly/image/0i0B0M3E1I0A/ar.gif)

![migrations](http://cl.ly/image/342Y2m423Q3O/migration.gif)

# Installation

## From Git

```bash
➜ cd ~/Library/Application\ Support/Sublime\ Text\ 2/Packages
➜ git clone https://github.com/tadast/sublime-rails-snippets.git Rails
```

It is important to clone it into a folder called Rails. Some Sublime plugins have hardcoded dependencies pointing to that path. See troubleshooting.

## From Package Control

Look for "Ruby on Rails snippets". [Here's how to install packages](http://wbond.net/sublime_packages/package_control/usage)

### Housekeeping

:warning: You will need to do some housekeeping after installing it from Package Control.
First of all, remove the original Rails directory

Regardless of which way of installation you choose, please backup the old Rails snippets directory. You don't want to have both this and the original snippets installed.

```bash
cd ~/Library/Application\ Support/Sublime\ Text\ 2/Packages
mv Rails ~/.RailsSublimeBackup
```

Then quit Sublime and delete Sublime's session cache.

```bash
rm ~/Library/Application\ Support/Sublime\ Text\ 2/Settings/Session.sublime_session
```

This will lose all session data (Sublime will 'forget' open filetabs, projects, search history etc.)

### Troubleshooting

#### Can't find *.tmLanguage

If Sublime complains it can't find `Ruby on Rails.tmLanguage`, chances are you are using [this hack](https://gist.github.com/925008).

You'll need to change the path where it looks for that file. Here's the [forked version which works with this plugin](https://gist.github.com/4161901).

You may also need to change `Packages/(DetectSyntax|User)/DetectSyntax.sublime-settings` to replace/include this rule

```json
{
  "name": "Ruby on Rails snippets/Ruby Haml",
  "rules": [
    {"file_name": ".*\\.haml$"}
  ]
},
{
  "name": "Ruby on Rails snippets/Ruby on Rails",
  "rules": [
    {"function": {"name": "is_rails_file"}}
  ]
}
```

`Ruby on Rails snippets` is a default instalation directory for Package Control.
If you installed in a different directory, change the path accordingly

#### Sublime picks Ruby syntax

You may need to tell Sublime to prefer Rails
`View -> Syntax -> Open all with current extension as...` and pick `Rails` of Ruby on Rails snippets


# How to contribute

1. Fork it
2. Create your feature branch for each group of snippet changes that could be merged individually (`git checkout -b my-new-snippet`)
3. Commit your changes (`git commit -am 'Add some snippet [tab_trigger]'`)
4. Commit messages should start with a verb in present simple tense and have all affected tab triggers in square brackets e.g. "Add a snippets for partial rendering [rpc, rpo]"
5. Push to the branch (`git push origin my-new-snippet`)
6. Create new Pull Request
